# Запуск программ. Exec

Обычно системный вызов `fork` используется в комбинации с другим системным вызовом `exec`, который запускает программу. Виртуальное адресное пространство при этом перезаписывается. Большинство других атрибутов процесса, например, таблица файловых дескрипторов, сохраняются. Подробнее можно почитать в `man 2 execve`.

Поверх этого системногого вызова реализованы в библиотеке разные интерфейсы:

```
int execve(const char *filename,
           char *const argv[],
           char *const envp[]);           
int execvpe(.....) // параметры аналогично execve

int execv(const char *filename, char *const argv[])
int execvp(......) // параметры аналогично execv

int execle(const char *filename,
           const char arg0, ..., /* NULL */,
           const char env0, ..., /* NULL */);

int execl(const char *filename,
          const char arg0, ..., /* NULL */);
int execlp(......) // параметры аналогично execl
```

Что означают суффиксы?
 * `v` или `l` - параметры передаются в виде массивов (`v`), заканчивающихся элементом `NULL`, либо в виде переменного количества аргументов (`l`), где признаком конца перечисления аргументов является значение `NULL`.
 * `e` - кроме аргументов программы передаются переменные окружения в виде строк `КЛЮЧ=ЗНАЧЕНИЕ`.
 * `p` - именем программы может быть не только имя файла, но и имя, которое нужно найти в одном из каталогов, перечисленных в переменной окружения `PATH`.

 Вооружившись `fork+exec` можно, например, написать свой простенький shell (см. `simple_shell.c`).
 